# 230704 c高级

## 1. linux 的发展

~~~c
贝尔实验室 、麻省理工 -------> multics 计划    失败
 汤姆森.肯    ----> unics 
  ---> 贝尔实验室推广 ----> unix{ sys 5   BSD}

莱纳斯.托瓦斯  ----> 类unix ---> linux 

linux 发行版本:
   ubuntu ----> “人道主义”   
     
 GUN & GPL 
    GUN is not linux 
 GPL 通用协议
  
~~~



## 2. linux 的体系结构

~~~c
应用层  ---------命令、程序、shell 脚本------
									|
									|shell   \   系统调用
  								|/
内核   --------------------------------
   内核功能:
				文件管理
        设备管理
        进程管理
        内存管理
        网络管理
硬件 ------------------------------------
         摄像头、鼠标。。。。
内核:
	内核是Linux系统的最底层，提供了系统的核心功能并允许进程以一种有序
  的方式访问硬件。
  用于控制进程、输入、输出设备、文件系统操作、管理内存;

linux 系统支持多任务、多用户的模式运行；

~~~

## 3.shell 命令

~~~c
shell是一种命令行解释器，
shell --> "贝壳" 对操作系统起到保护的作用;
复习常见的shell命令:
ls 、 cd 、 pwd 、whoami
  ls 选项 参数
   选项:
				-a: 查看以点开头的隐藏文件;
				-l:查看文件的详细属性;
        -R: 递归查询
        -i: 查询inode号
eg:
	-rw-rw-r--  1 jiangcx jiangcx  903 Jul 23 22:48 te1.c
    -: 文件的类型
     linux 下的七大文件类型:（linux 一切皆文件）
			- 普通文件: XXX.c XXX.h XXX.txt
      d 目录文件: 相当于windows的文件夹
      b 块设备文件:磁盘(/dev/sda ...)
      c 字符设备文件:摄像头("/dev/video0")、串口(/dev/ttyUSB0)
      p 管道文件:(mkfifo fifo)用于本地进程间的通信；
      l 链接文件:（软链接:相当于windows的快捷方式）
      s 套接字文件: （socket）用于网络间通信；
   rw- rw- r--: 文件的权限 （0664）
      文件的三种权限:
        r --> 读权限  4
        w --> 写权限  2
        x --> 执行权限 1
   文件的权限包含：
          用户的权限
          组的权限
          其他权限
   一个权限可以用八进制表示:
       	一个文件的最高权限: 0777
  1: 硬链接数
  jiangcx:用户名
  jiangcx:组名
  903: 文件的大小
  Jul 23 22:48： 文件最后修改的时间
  te1.c 文件名

 路径:
		相对路径:从当前出发的一条连续不断的路径;
		绝对路径:从根目录出发的一条连续不断的路径;      
~~~

### 3.2 cd

~~~c
cd 目录的路径 去到某个目录下
cd (cd ~) 去到家目录（/home/hqyj）
cd / 去到根目录
cd .. 返回上一级
cd - 返回上一步;
~~~

### 3.3 目录的创建

~~~c
mkdir dirname
mkdir -p demo1/demo2/demo3 递归创建(创建多级目录)

删除:
	rm -r dirname 删除一个目录
  rmdir dirname 删除一个空目录
~~~

### 3.4 文件

~~~c
文件的创建：
  	①touch filename 文件存则更新时间戳，不存在则创建一个空文件;
    ② vi filename 文件存在则打开不存在则创建;
文件的删除：
    rm filename 
文件的查看:
		cat filename 文件的查看
    cat -n filename 查看文件自带行号
vi编辑器：
   三种模式:
		命令行模式:刚打开文件进入的模式；
			在任意模式下按 Esc 切换到命令行模式:
			nyy --> n代表行数 复制多行
      ndd --> 剪切多行
      p  --> 粘贴
      u  --> 撤销
      ctrl + r 反向撤销
      
      gg=G 代码缩进对齐
      
      /str 查找
        n:向下查找
        N:向上查找
      
      1G: 光标去到第一行
      G: 光标去到最后一行     
    插入模式:
			在命令行模式的基础上，按 a / i / o;
		底行模式:
			在命令行模式的基础上，输入 : （shift + :）
        w: 保存
        q: 退出
        wq:保存并退出
        q!: 强制退出
        wq!:强制保存并退出
        
        设置行号: set number
        取消行号: set nonumber
        
        :num 去到第num行
        
        vsp filename 水平分屏
         ctrl + w + w 切换光标到分屏；
          
        替换:
        . ---> 当前
        $ ---> 末尾
        g ---> 每行的所有
        % 全文
        
				范围 s/str1/str2
        
        1，$ s/str1/str2
        //将第一行到最后一行的每行第一个str1替换为str2;
        1，$ s/str1/str2/g
        //将第一行到最后一行的所有str1替换为str2
        
        块复制，块剪切
          范围 y
          范围 d
          eg：
          	. , $ y 复制当前到最后一行
         
          
~~~

### 3.5 文件的复制

~~~c
cp 文件的路径1 文件的路径2
cp 文件的路径1 目录的路径2
   eg:
			cp test.c ../ 将test.c 拷贝到上一级的目录
      cp test.c ../my.c 将test.c 拷贝到上一级并重命名为my.c

cp -a 目录的路径1 目录的路径2
      cp demo1 demo2
~~~

### 3.6 文件移动

~~~c
mv 路径1  路径2
  mv test.c my.c  重命名
~~~

## 3.7 其他常用命令

~~~c
clear 清屏
exit 退出终端
su 切换用户
sudo 临时超级用户权限
diff 
  	diff file1 file2 比较两个文件是否一样
eog 图片查看器
   eog 1.jpg
history 查看历史输入记录
~~~

## 3.8 快捷方式

~~~c
创建终端:
	ctrl + shift + n
终端的切换:
	Alt + Tab 
Tab:
	按一下Tab 补全内容
  按两下: 显示待输入的命令
ctrl + l 清屏
crtl + c 结束
↑:向上查看历史输入记录
↓:向下查看历史输入记录  
~~~

## 4. 软件包的管理

### 4.1 dpkg 离线安装

~~~c
软件包名的构成:
sl   _5.02-1          _amd64     .deb
软件名 版本号  修订版本号   体系架构     后缀
   												i386: 32位
                          amd64(x64): 64位
运行软件: sl (软件名)
 
软件安装:
	sudo dpkg -i 软件包名
卸载：
   sudo dpkg -r 软件名
完全卸载:
	sudo dpkg -P 软件名
查看软件版本号:
	sudo dpkg -l 软件名
查看软件包的安装清单
  sudo dpkg -L 软件名
查看软件安装的状态
  sudo dpkg -s 软件名
~~~

## 4.2 apt 在线安装

~~~c
软件源：
   /etc/apt/sources.list (服务器镜像地址)
 创建服务器的索引（清楚镜像地址上有哪些软件资源）
  sudo apt-get update
  软件包的下载缓存地址：
  	/var/cache/apt/archives
  软件的安装:
		sudo apt-get install 软件名;
  软件的卸载：
			sudo apt-get remove 软件名 
  清空软件包
    	sudo apt-get clean
  检查系统中依赖关系的完整性
    	sudo apt-get check
  将系统中的所有包升级到最新版本  
   		sudo apt-get upgrade 
  重新安装：
    sudo apt-get  --reinstall install 软件名
  完全卸载:
		sudo apt-get --purge remove 软件名
 只下载不安装：
     sudo apt-get -d install 软件名
 获取软件包的真安装状态：
     sudo apt-cache policy 软件名

2.配置网络 ---> 桥接模式
      ping www.baidu.com 

~~~

